{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahul/Desktop/ai-legal-intelligence/frontend/src/lib/api.ts"],"sourcesContent":["// src/lib/api.ts\nimport axios from 'axios';\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000/api';\n\nconsole.log('API_BASE_URL:', API_BASE_URL); // Debug log\n\nexport const api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  withCredentials: true, // Important for CORS\n  timeout: 10000, // 10 second timeout\n});\n\n// Add auth token to requests\napi.interceptors.request.use((config) => {\n//   console.log('Making request to:', config.baseURL + config.url); // Debug log\n  \n  if (typeof window !== 'undefined') {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n  }\n  return config;\n});\n\n// Handle auth errors and add debugging\napi.interceptors.response.use(\n  (response) => {\n    console.log('API Response:', response.status, response.config.url); // Debug log\n    return response;\n  },\n  (error) => {\n    console.error('API Error:', error.response?.status, error.message); // Debug log\n    \n    if (error.response?.status === 401 && typeof window !== 'undefined') {\n      localStorage.removeItem('token');\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\n// API functions\nexport const authAPI = {\n  login: async (email: string, password: string) => {\n    try {\n      console.log('Attempting login for:', email);\n      const response = await api.post('/auth/login', { email, password });\n      console.log('Login successful');\n      return response.data;\n    } catch (error) {\n      console.error('Login failed:', error);\n      throw error;\n    }\n  },\n  \n  register: async (email: string, password: string, name: string) => {\n    try {\n      console.log('Attempting registration for:', email);\n      const response = await api.post('/auth/register', { email, password, name });\n      console.log('Registration successful');\n      return response.data;\n    } catch (error) {\n      console.error('Registration failed:', error);\n      throw error;\n    }\n  },\n};\n\nexport const documentsAPI = {\n  getDocuments: async () => {\n    const response = await api.get('/documents');\n    return response.data;\n  },\n  \n  getDocument: async (id: string) => {\n    const response = await api.get(`/documents/${id}`);\n    return response.data;\n  },\n  \n  uploadDocument: async (file: File) => {\n    const formData = new FormData();\n    formData.append('document', file);\n    \n    const response = await api.post('/upload', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    });\n    return response.data;\n  },\n};"],"names":[],"mappings":"AAAA,iBAAiB;;;;;;AACjB;;AAEA,MAAM,eAAe,iEAAmC;AAExD,QAAQ,GAAG,CAAC,iBAAiB,eAAe,YAAY;AAEjD,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC9B,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;IACA,iBAAiB;IACjB,SAAS;AACX;AAEA,6BAA6B;AAC7B,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC9B,iFAAiF;IAE/E,uCAAmC;;IAKnC;IACA,OAAO;AACT;AAEA,uCAAuC;AACvC,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC;IACC,QAAQ,GAAG,CAAC,iBAAiB,SAAS,MAAM,EAAE,SAAS,MAAM,CAAC,GAAG,GAAG,YAAY;IAChF,OAAO;AACT,GACA,CAAC;IACC,QAAQ,KAAK,CAAC,cAAc,MAAM,QAAQ,EAAE,QAAQ,MAAM,OAAO,GAAG,YAAY;IAEhF,IAAI,MAAM,QAAQ,EAAE,WAAW,OAAO,gBAAkB,aAAa;;IAGrE;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;AAIK,MAAM,UAAU;IACrB,OAAO,OAAO,OAAe;QAC3B,IAAI;YACF,QAAQ,GAAG,CAAC,yBAAyB;YACrC,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,eAAe;gBAAE;gBAAO;YAAS;YACjE,QAAQ,GAAG,CAAC;YACZ,OAAO,SAAS,IAAI;QACtB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iBAAiB;YAC/B,MAAM;QACR;IACF;IAEA,UAAU,OAAO,OAAe,UAAkB;QAChD,IAAI;YACF,QAAQ,GAAG,CAAC,gCAAgC;YAC5C,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,kBAAkB;gBAAE;gBAAO;gBAAU;YAAK;YAC1E,QAAQ,GAAG,CAAC;YACZ,OAAO,SAAS,IAAI;QACtB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,MAAM;QACR;IACF;AACF;AAEO,MAAM,eAAe;IAC1B,cAAc;QACZ,MAAM,WAAW,MAAM,IAAI,GAAG,CAAC;QAC/B,OAAO,SAAS,IAAI;IACtB;IAEA,aAAa,OAAO;QAClB,MAAM,WAAW,MAAM,IAAI,GAAG,CAAC,CAAC,WAAW,EAAE,IAAI;QACjD,OAAO,SAAS,IAAI;IACtB;IAEA,gBAAgB,OAAO;QACrB,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,YAAY;QAE5B,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,WAAW,UAAU;YACnD,SAAS;gBACP,gBAAgB;YAClB;QACF;QACA,OAAO,SAAS,IAAI;IACtB;AACF","debugId":null}},
    {"offset": {"line": 229, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahul/Desktop/ai-legal-intelligence/frontend/src/hooks/useAuth.ts"],"sourcesContent":["import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\nimport { authAPI } from '@/lib/api';\nimport type { User } from '@/types';\n\ninterface AuthStore {\n  user: User | null;\n  token: string | null;\n  isLoading: boolean;\n  login: (email: string, password: string) => Promise<void>;\n  register: (email: string, password: string, name: string) => Promise<void>;\n  logout: () => void;\n  setUser: (user: User, token: string) => void;\n}\n\nexport const useAuth = create<AuthStore>()(\n  persist(\n    (set, get) => ({\n      user: null,\n      token: null,\n      isLoading: false,\n\n      login: async (email: string, password: string) => {\n        set({ isLoading: true });\n        try {\n          const data = await authAPI.login(email, password);\n          const { token, user } = data;\n          \n          if (typeof window !== 'undefined') {\n            localStorage.setItem('token', token);\n          }\n          set({ user, token, isLoading: false });\n        } catch (error) {\n          set({ isLoading: false });\n          throw error;\n        }\n      },\n\n      register: async (email: string, password: string, name: string) => {\n        set({ isLoading: true });\n        try {\n          const data = await authAPI.register(email, password, name);\n          const { token, user } = data;\n          \n          if (typeof window !== 'undefined') {\n            localStorage.setItem('token', token);\n          }\n          set({ user, token, isLoading: false });\n        } catch (error) {\n          set({ isLoading: false });\n          throw error;\n        }\n      },\n\n      logout: () => {\n        if (typeof window !== 'undefined') {\n          localStorage.removeItem('token');\n        }\n        set({ user: null, token: null });\n      },\n\n      setUser: (user: User, token: string) => {\n        set({ user, token });\n      },\n    }),\n    {\n      name: 'auth-storage',\n    }\n  )\n);\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAaO,MAAM,UAAU,CAAA,GAAA,wIAAA,CAAA,SAAM,AAAD,IAC1B,CAAA,GAAA,6IAAA,CAAA,UAAO,AAAD,EACJ,CAAC,KAAK,MAAQ,CAAC;QACb,MAAM;QACN,OAAO;QACP,WAAW;QAEX,OAAO,OAAO,OAAe;YAC3B,IAAI;gBAAE,WAAW;YAAK;YACtB,IAAI;gBACF,MAAM,OAAO,MAAM,iHAAA,CAAA,UAAO,CAAC,KAAK,CAAC,OAAO;gBACxC,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG;gBAExB,uCAAmC;;gBAEnC;gBACA,IAAI;oBAAE;oBAAM;oBAAO,WAAW;gBAAM;YACtC,EAAE,OAAO,OAAO;gBACd,IAAI;oBAAE,WAAW;gBAAM;gBACvB,MAAM;YACR;QACF;QAEA,UAAU,OAAO,OAAe,UAAkB;YAChD,IAAI;gBAAE,WAAW;YAAK;YACtB,IAAI;gBACF,MAAM,OAAO,MAAM,iHAAA,CAAA,UAAO,CAAC,QAAQ,CAAC,OAAO,UAAU;gBACrD,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG;gBAExB,uCAAmC;;gBAEnC;gBACA,IAAI;oBAAE;oBAAM;oBAAO,WAAW;gBAAM;YACtC,EAAE,OAAO,OAAO;gBACd,IAAI;oBAAE,WAAW;gBAAM;gBACvB,MAAM;YACR;QACF;QAEA,QAAQ;YACN,uCAAmC;;YAEnC;YACA,IAAI;gBAAE,MAAM;gBAAM,OAAO;YAAK;QAChC;QAEA,SAAS,CAAC,MAAY;YACpB,IAAI;gBAAE;gBAAM;YAAM;QACpB;IACF,CAAC,GACD;IACE,MAAM;AACR","debugId":null}},
    {"offset": {"line": 310, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahul/Desktop/ai-legal-intelligence/frontend/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/hooks/useAuth';\n\nexport default function HomePage() {\n  const { user } = useAuth();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (user) {\n      router.push('/dashboard');\n    } else {\n      router.push('/login');\n    }\n  }, [user, router]);\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center\">\n      <div className=\"text-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n        <p className=\"mt-4 text-gray-600\">Loading...</p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,uHAAA,CAAA,UAAO,AAAD;IACvB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,MAAM;YACR,OAAO,IAAI,CAAC;QACd,OAAO;YACL,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAM;KAAO;IAEjB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;;;;;8BACf,8OAAC;oBAAE,WAAU;8BAAqB;;;;;;;;;;;;;;;;;AAI1C","debugId":null}}]
}